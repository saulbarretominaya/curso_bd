CREATE TABLE CLIENTES (
    ID_CLIENTE NUMBER GENERATED BY DEFAULT AS IDENTITY,
    NOMBRE VARCHAR2(50),
    EDAD VARCHAR(20)
)


INSERT ALL 
    INTO CLIENTES (NOMBRE, EDAD) VALUES ('RICARDO', '70')
    INTO CLIENTES (NOMBRE, EDAD) VALUES ('JUAN', '30')
SELECT * FROM DUAL;


-- CREAR UNA VISTA EDAD PROMEDIO DE TODOS LOS CLIENTES
CREATE OR REPLACE VIEW VISTA_CLIENTE_PROMEDIO AS
    SELECT AVG(EDAD) AS PROMEDIO FROM CLIENTES
;


-- USO DE LA VISTA QUE FUE CREADO
SELECT * FROM CLIENTES 
WHERE EDAD > (SELECT * FROM VISTA_CLIENTE_PROMEDIO);


-- CREAR UN PROCEDIMIENTO ALMACENADO PARA INSERT CLIENTES
CREATE OR REPLACE PROCEDURE PROC_CLIENTES_INSERTAR(
    NOMBRE VARCHAR,
    EDAD VARCHAR
)IS
BEGIN
       INSERT INTO CLIENTES (NOMBRE, EDAD) VALUES ('JUAN', '30');
       COMMIT;

END;


-- FOR LOOP
DECLARE 
X NUMBER :=1;
Y NUMBER :=5;
BEGIN
FOR contador IN X..Y BY 1 LOOP
    dbms_output.put_line(contador);
END LOOP;
END;
